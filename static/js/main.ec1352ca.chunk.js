(this.webpackJsonpdelvallecredito=this.webpackJsonpdelvallecredito||[]).push([[0],{165:function(e,a,t){e.exports=t(316)},170:function(e,a,t){},172:function(e,a,t){},193:function(e,a,t){e.exports=t.p+"static/media/marca-blanca.671e4272.png"},194:function(e,a,t){},223:function(e,a){},225:function(e,a){},236:function(e,a){},238:function(e,a){},265:function(e,a){},267:function(e,a){},268:function(e,a){},274:function(e,a){},276:function(e,a){},294:function(e,a){},296:function(e,a){},308:function(e,a){},311:function(e,a){},316:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(79),o=t.n(r),c=(t(170),t(8)),m=t(4),s=t.n(m),i=t(12),u=(t(172),function(){return!!localStorage.getItem("token")}),d=function(e,a){localStorage.setItem("token",e),localStorage.setItem("username",a),console.log(e,a)},p=function(){localStorage.removeItem("token"),localStorage.removeItem("username")},E=t(159),f=t.n(E).a.create({baseURL:"https://dvc-back.herokuapp.com"});function b(){var e=Object(c.f)().location.pathname,a=function(){var e=Object(i.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/v1/logout");case 3:p(),window.location="/dvcs/",e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=e.t0.response).data.error&&a.data.error.includes("expired")&&console.log("La sesi\xf3n finaliz\xf3");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,"/"!==e?l.a.createElement("nav",{className:"navbar"},l.a.createElement("img",{className:"img-fluid",src:t(193),width:"100px"}),l.a.createElement("div",null,l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item mx-2"},l.a.createElement("button",{className:"btn btn-light px-2",onClick:a},"Cerrar Sesi\xf3n"))))):"")}var v=t(9),N=t(3),g=t(7),h=t.n(g),C=(t(93),function(){var e,a=Object(n.useState)(""),t=Object(N.a)(a,2),r=t[0],o=t[1],m=Object(n.useState)(""),s=Object(N.a)(m,2),i=s[0],u=s[1],p=Object(c.f)();return l.a.createElement("div",{className:""},l.a.createElement("div",{className:"text-center"},l.a.createElement("a",{href:"#"},"Sistema de Gesti\xf3n de Ventas"),l.a.createElement("p",null,"Del Valle Cr\xe9ditos")),l.a.createElement("div",{className:"container-fluid p-3"},l.a.createElement("h1",{className:"tituloLogin text-center display-4"},"Protegido: Sistema de Ventas")),l.a.createElement("form",{className:" p-4 form",onSubmit:function(e){e.preventDefault(),f.post("/api/v1/login/",{user:r,password:i}).then((function(e){d(e.data.token,e.data.fullname),console.log(e.data),h.a.fire({icon:"success",title:"Logueado correctamente",showConfirmButton:!1,timer:1e3}),"admin"===e.data.role?p.push("/panel"):p.push("/seller")})).catch((function(e){var a=e.response;console.log(a),h.a.fire({icon:"error",title:"Credenciales incorrectas",showConfirmButton:!1,timer:1e3})}))}},l.a.createElement("p",{className:"text-center mt-3"},"Este contenido est\xe1 protegido. Para ingresar, por favor, introduce tu usuario y contrase\xf1a a continuaci\xf3n:"),l.a.createElement("div",{className:"form-group row justify-content-center"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("input",(e={type:"text",className:"form-control"},Object(v.a)(e,"type","text"),Object(v.a)(e,"name","user"),Object(v.a)(e,"maxLength","10"),Object(v.a)(e,"placeholder","Usuario"),Object(v.a)(e,"minLength","4"),Object(v.a)(e,"autoFocus",!0),Object(v.a)(e,"onChange",(function(e){o(e.target.value)})),Object(v.a)(e,"required",!0),e)))),l.a.createElement("div",{className:"form-group row justify-content-center"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("input",{type:"password",className:"form-control",id:"inputPassword",name:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",placeholder:"Contrase\xf1a",title:"La contrase\xf1a debe tener al menos 8 caracteres, una mayuscula y una min\xfascula",onChange:function(e){u(e.target.value)},required:!0}))),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("button",{type:"submit",className:"btn btn-primary d-block"},"Ingresar"))))}),x=t(82),y=t(5),w=t(11);t(194);function j(e){var a=e.datos,t=e.onChangeHandler,n=e.tablasChange,r=e.getDatos,o=l.a.useRef(null),c=function(){var e=Object(i.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.a.fire({title:"\xbfEst\xe1s seguro de guardar los Cambios?",showDenyButton:!0,confirmButtonText:"Guardar",denyButtonText:"Cancelar"}).then((function(e){e.isConfirmed?(h.a.fire({title:"Guardado!",icon:"success",showConfirmButton:!1,timer:1e3}),m(),o.current.click()):e.isDenied&&h.a.fire({title:"Cambios Descartados!",icon:"info",showConfirmButton:!1,timer:1e3})}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=6;break}return e.next=4,f.put("api/v1/salesupdate/".concat(a._id),a);case 4:e.next=8;break;case 6:return e.next=8,f.put("api/v1/sellerupdate/".concat(a._id),a);case 8:r(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title text-center",id:"exampleModalLabel"},"Editar ",n?"Venta "+a.date:"Vendedor "+a.user),l.a.createElement("button",{type:"button",ref:o,className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{className:"row justify-content-center"},n?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"nombrefull"},"Nombre"),l.a.createElement("input",{type:"text",id:"nombrefull",className:"form-control text-center",placeholder:"Nombre Completo",name:"nameClient",onChange:t,value:a.nameClient})),l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"number"},"DNI"),l.a.createElement("input",{type:"text",id:"number",className:"form-control text-center",placeholder:"N\xfamero de Tel\xe9fono",name:"dniClient",onChange:t,value:a.dniClient}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"dia"},"Tel\xe9fono"),l.a.createElement("input",{type:"text",id:"dia",className:"form-control text-center",placeholder:"D\xeda",name:"celphoneClient",onChange:t,value:a.celphoneClient})),l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"cuotas"},"Tipo Venta"),l.a.createElement("input",{type:"text",id:"cuotas",className:"form-control text-center",placeholder:"N\xfamero de Cuotas",name:"creditLine",onChange:t,value:a.creditLine}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"montoC"},"Monto Cr\xe9dito"),l.a.createElement("input",{type:"text",id:"montoC",className:"form-control text-center",placeholder:"N\xfamero de Tel\xe9fono",name:"amountApproved",onChange:t,value:a.amountApproved})),l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"mcuotas"},"Numero cuotas"),l.a.createElement("input",{type:"text",id:"mcuotas",className:"form-control text-center",placeholder:"Monto de Cuotas",name:"feeAmount",onChange:t,value:a.feeAmount}))),l.a.createElement("div",{className:"form-group row",style:{width:"93%"}},l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"monto"},"Monto Cuota"),l.a.createElement("input",{type:"text",id:"monto",className:"form-control text-center",placeholder:"N\xfamero de Tel\xe9fono",name:"quotaAmount",onChange:t,value:a.quotaAmount})),l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"enable"},"Habilitado"),l.a.createElement("select",{className:"custom-select",as:"select",name:"enable",onChange:t},l.a.createElement("option",{value:"SI"},"SI"),l.a.createElement("option",{value:"NO"},"NO")))),l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("label",{htmlFor:"saleDetail"},"Observaci\xf3n"),l.a.createElement("textarea",{rows:"1",type:"text",id:"saleDetail",className:"form-control text-center",placeholder:"".concat(a.saleDetail?"Cambiar Observaci\xf3n":"No existe observaci\xf3n"),name:"saleDetail",onChange:t,value:a.saleDetail}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"fullname"},"Nombre"),l.a.createElement("input",{type:"text",id:"fullname",className:"form-control text-center",placeholder:"Nombre Completo",name:"fullname",onChange:t,value:a.fullname})),l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"dni"},"DNI"),l.a.createElement("input",{type:"text",maxLength:"8",minLength:"7",id:"dni",className:"form-control text-center",placeholder:"N\xfamero de Tel\xe9fono",name:"dni",onChange:t,value:a.dni}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"text",id:"email",className:"form-control text-center",placeholder:"D\xeda",name:"email",onChange:t,value:a.email})),l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"celphone"},"Tel\xe9fono"),l.a.createElement("input",{type:"text",id:"celphone",className:"form-control text-center",placeholder:"D\xeda",name:"celphone",onChange:t,value:a.celphone}))),l.a.createElement("div",{className:"form-group row",style:{width:"93%"}},l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"address"},"Direcci\xf3n"),l.a.createElement("input",{type:"text",id:"address",className:"form-control text-center",placeholder:"Direcci\xf3n",name:"address",onChange:t,value:a.address})),l.a.createElement("div",{className:"col text-center"},l.a.createElement("label",{htmlFor:"enable"},"Habilitado"),l.a.createElement("select",{className:"form-control",as:"select",name:"enable",onChange:t},l.a.createElement("option",{value:"SI",selected:"SI"==a.enable},"SI"),l.a.createElement("option",{value:"NO"},"NO"))))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:c},"Guardar"))))))}var O=function(e){var a=e.datos,t=e.getDatos,n=l.a.useState([]),r=Object(N.a)(n,2),o=r[0],c=r[1],m=l.a.useState([]),u=Object(N.a)(m,2),d=u[0],p=u[1],E=l.a.useState(null),b=Object(N.a)(E,2),g=b[0],C=b[1],x=l.a.useState({}),y=Object(N.a)(x,2),j=y[0],O=y[1],S=l.a.useRef(),k=l.a.useRef();console.log();l.a.useEffect((function(){c(a)}),[a]),l.a.useEffect((function(){!function(){var e=o.map((function(e){return l.a.createElement("option",{key:e._id,value:e.fullname},e.fullname)}));p(e)}()}),[o]);var F=function(e){var a=e.target.value.toUpperCase();O(Object(w.a)(Object(w.a)({},j),{},Object(v.a)({},e.target.name,a)))},D=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),"application/pdf"===g.type){e.next=4;break}return h.a.fire({icon:"error",title:"Solo se admite archivos formato PDF",showConfirmButton:!1,timer:1500}),e.abrupt("return");case 4:return e.prev=4,e.next=7,f.post("api/v1/regsales",j);case 7:return n=e.sent,console.log("newsales ->",n.data.id),(l=new FormData).append("myFile",g),e.next=13,f.post("api/v1/regsales/".concat(n.data.id,"/sendpdf"),l,{headers:{"content-type":"multipart/form-data"}});case 13:h.a.fire({icon:"success",title:"Tu venta se cargo correctamente",showConfirmButton:!1,timer:1500}),k.current.reset(),S.current.click(),t(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(a){return e.apply(this,arguments)}}(),A=function(e){return e.charCode<=47||e.charCode>=58?(h.a.fire({icon:"error",title:"Solo puede ingresar n\xfameros"}),!1):void 0};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal fade",id:"admin-sale",tabIndex:"-1","aria-labelledby":"admin-sales","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:""},l.a.createElement("h5",{className:"modal-title text-center mt-3",id:"admin-sales"},"Nueva Venta"),l.a.createElement("hr",null)),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{onSubmit:D,ref:k},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"inputStateCredito"},"Linea de Cr\xe9dito *"),l.a.createElement("select",{id:"inputStateCredito",className:"form-control",onChange:F,name:"creditLine"},l.a.createElement("option",null,"Elegir..."),l.a.createElement("option",{value:"sencillo"},"Sencillo"),l.a.createElement("option",{value:"rapicredito"},"Rapicredito"))),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"inputStateOperacion"},"Indique tipo de operaci\xf3n *"),l.a.createElement("select",{id:"inputStateOperacion",className:"form-control",onChange:F,name:"typeOperation"},l.a.createElement("option",null,"Elegir..."),l.a.createElement("option",{value:"credito"},"Cr\xe9dito"),l.a.createElement("option",{value:"electro"},"Electro")))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6 "},l.a.createElement("label",{htmlFor:"inputStateNew"},"Cliente Nuevo *"),l.a.createElement("select",{id:"inputStateNew",className:"form-control",onChange:F,name:"newClient"},l.a.createElement("option",null,"Elegir..."),l.a.createElement("option",{value:"SI"},"Si"),l.a.createElement("option",{value:"NO"},"No"))),l.a.createElement("div",{className:"form-group col-sm-6 "},l.a.createElement("label",{htmlFor:"inputStateTypeClient"},"Tipo de Cliente *"),l.a.createElement("select",{id:"inputStateTypeClient",className:"form-control",onChange:F,name:"TypeClient"},l.a.createElement("option",null,"Elegir..."),l.a.createElement("option",{value:"A"},"A"),l.a.createElement("option",{value:"B"},"B"),l.a.createElement("option",{value:"C"},"C")))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"nombreCliente"},"Nombre del Cliente *"),l.a.createElement("input",{className:"form-control",id:"nombreCliente",name:"nameClient",type:"text",onChange:F,required:!0})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"dniCLiente"},"DNI del Cliente *"),l.a.createElement("input",{className:"form-control",id:"dniCLiente",name:"dniClient",maxLength:"8",minLength:"7",type:"text",onKeyPress:A,onChange:F,required:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"celularCLiente"},"Celular del Cliente *"),l.a.createElement("input",{className:"form-control",id:"celularCLiente",name:"celphoneClient",type:"text",onKeyPress:A,onChange:F,required:!0})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"montoAprobado"},"Monto Aprobado *"),l.a.createElement("input",{className:"form-control",id:"montoAprobado",name:"amountApproved",type:"text",onKeyPress:A,onChange:F,required:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"inputStateCantidadCuotas"},"Cantidad de Cuotas *"),l.a.createElement("select",{id:"inputStateCantidadCuotas",className:"form-control",onChange:F,name:"quotaAmount"},l.a.createElement("option",{value:0},"Elegir..."),l.a.createElement("option",{value:1},"0"),l.a.createElement("option",{value:3},"3"),l.a.createElement("option",{value:6},"6"),l.a.createElement("option",{value:12},"12"),l.a.createElement("option",{value:15},"15"),l.a.createElement("option",{value:18},"18"),l.a.createElement("option",{value:24},"24"),l.a.createElement("option",{value:30},"30"))),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"montoPorCuota"},"Monto por cuota *"),l.a.createElement("input",{className:"form-control",id:"montoPorCuota",name:"feeAmount",type:"text",onKeyPress:A,onChange:F,required:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Detalles de la operaci\xf3n"),l.a.createElement("textarea",{className:"form-control",id:"message-text",name:"saleDetail",rows:"1",onChange:F})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"vendedor",className:"col-form-label"},"Vendedor *"),l.a.createElement("select",{id:"vendedor",name:"fullname",className:"form-control",onChange:F},l.a.createElement("option",{selected:!0,disabled:!0},"Elegir..."),d))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleFormControlFile1"},"Seleccionar Archivo PDF"),l.a.createElement("input",{type:"file",className:"form-control-file",name:"myFile",onChange:function(e){C(e.target.files[0]),1===e.target.files.length?function(e){if(e.target.files[0].size<=2e7){var a=e.target.files[0];(new FileReader).readAsDataURL(a)}else e.target.value="",alert("subir algo min 2 mb")}(e):(e.target.value="",alert("cargar pdf"))}})),l.a.createElement("p",null,"(*) Campo Obligatorio"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-secondary","data-dismiss":"modal",type:"button",ref:S},"Cerrar"),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Enviar"))))))))};var S=function(){var e=l.a.useState("Vendedor"),a=Object(N.a)(e,2),t=a[0],n=a[1],r=l.a.useState({}),o=Object(N.a)(r,2),c=o[0],m=o[1],u=l.a.useRef(),d=l.a.useRef(),p=function(){var e=Object(i.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Vendedor"===t){e.next=6;break}return e.next=4,f.post("api/v1/regadmin",c);case 4:e.next=8;break;case 6:return e.next=8,f.post("api/v1/regseller",c);case 8:h.a.fire({title:"".concat(t," Creado exitosamente"),icon:"Success"}),u.current.reset(),d.current.click(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),a=e.t0.response,console.log(a),h.a.fire({title:"No se pudo crear el ".concat(t),text:"Por favor intente de nuevo m\xe1s tarde",icon:"error"});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),E=function(e){m(Object(w.a)(Object(w.a)({},c),{},Object(v.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{type:"button",className:"btn btn-secondary mb-3 mt-2 mt-md-0 col-12 col-md-2","data-toggle":"modal","data-target":"#regmodal"},"Dar de Alta"),l.a.createElement("div",{className:"modal fade",id:"regmodal",tabIndex:"-1","aria-labelledby":"regmodalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"mt-3"},l.a.createElement("div",{className:"row justify-content-between w-100 mx-0 px-4"},l.a.createElement("h5",null,"Registro ",t),l.a.createElement("button",{type:"button",ref:d,className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("ul",{className:"nav nav-pills mb-3 justify-content-center mt-2",id:"pills-tab",role:"tablist"},l.a.createElement("li",{onClick:function(){return n("Vendedor")},className:"nav-item mx-1 btn btn-secondary ".concat("Vendedor"===t&&"active"),role:"presentation"},"Vendedor"),l.a.createElement("li",{onClick:function(){return n("Administrador")},className:"nav-item mx-1 btn btn-secondary ".concat("Vendedor"!==t&&"active"),role:"presentation"},"Administrador")),l.a.createElement("hr",null)),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"tab-content",id:"pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},l.a.createElement("form",{ref:u},l.a.createElement("div",{className:"form-group row mt-2"},l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"nombre"},"Nombre *"),l.a.createElement("input",{type:"text",id:"nombre",onChange:E,className:"form-control",placeholder:"Nombre Completo",name:"fullname"})),l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"dni"},"DNI *"),l.a.createElement("input",{type:"text",maxLength:"8",minLength:"7",id:"dni",onChange:E,className:"form-control",placeholder:"DNI",name:"dni"}))),l.a.createElement("div",{className:"form-group mt-2"},l.a.createElement("label",{htmlFor:"email"},"Email *"),l.a.createElement("input",{type:"email",id:"email",onChange:E,className:"form-control",placeholder:"ejemplo@ejemplo.com",name:"email"})),l.a.createElement("div",{className:"form-gruop row mt-2"},l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"cel"},"N\xb0 Celular *"),l.a.createElement("input",{type:"phone",id:"cel",onChange:E,className:"form-control",placeholder:"N\xfamero de Tel\xe9fono",name:"celphone"})),l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"address"},"Domicilio *"),l.a.createElement("input",{type:"text",id:"address",onChange:E,className:"form-control",placeholder:"Domicilio",name:"address"}))),l.a.createElement("div",{className:"form-group row mt-2"},l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"user"},"Usuario *"),l.a.createElement("input",{type:"text",id:"user",maxLength:"10",minLength:"4",onChange:E,className:"form-control",placeholder:"Nombre de Usuario",name:"user"})),l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a *"),l.a.createElement("input",{type:"password",id:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",onChange:E,className:"form-control",placeholder:"Contrase\xf1a",name:"password"}))))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cerrar"),l.a.createElement("button",{type:"button",onClick:p,className:"btn btn-primary"},"Enviar"))))))},k=t(161),F=t(162),D=t(164),A=t(163),I=t(51),P=t.n(I),L=P.a.ExcelFile,T=P.a.ExcelFile.ExcelSheet,V=P.a.ExcelFile.ExcelColumn;var R=function(e){Object(D.a)(t,e);var a=Object(A.a)(t);function t(){return Object(k.a)(this,t),a.apply(this,arguments)}return Object(F.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.props.tablasChange?l.a.createElement(L,{element:l.a.createElement("i",{className:"far fa-file-excel text-success",type:"button",tabIndex:"-1"}," Excel"),filename:"excel"},l.a.createElement(T,{data:this.props.datosShow,name:"Hoja 1"},l.a.createElement(V,{label:"D\xeda",value:"date"}),l.a.createElement(V,{label:"NomreCliente",value:"nameClient"}),l.a.createElement(V,{label:"Vendedor",value:"fullname"}),l.a.createElement(V,{label:"DNI",value:"dniClient"}),l.a.createElement(V,{label:"N\xb0 Celular",value:"celphoneClient"}),l.a.createElement(V,{label:"Monto Aprobado",value:"amountApproved"}),l.a.createElement(V,{label:"Cuotas",value:"feeAmount"}),l.a.createElement(V,{label:"Monto Cuotas",value:"quotaAmount"}),l.a.createElement(V,{label:"Cliente Nuevo",value:"newClient"}),l.a.createElement(V,{label:"Detalle",value:"saleDetail"}),l.a.createElement(V,{label:"Linea de Cr\xe9dito",value:"creditLine"}),l.a.createElement(V,{label:"Operaci\xf3n",value:"typeOperation"}))):l.a.createElement(L,{element:l.a.createElement("i",{className:"far fa-file-excel text-success",type:"button",tabIndex:"-1"}," Excel"),filename:"excel"},l.a.createElement(T,{data:this.props.montosTotalesShow,name:"Hoja 2"},l.a.createElement(V,{label:"A\xf1o",value:"year"}),l.a.createElement(V,{label:"Nombre Vendedor",value:function(e){return e.seller.fullname}}),l.a.createElement(V,{label:"DNI",value:function(e){return e.seller.dni}}),l.a.createElement(V,{label:"Venta Total",value:function(e){return e.annualAmountApproved}}),l.a.createElement(V,{label:"Enero",value:"enero"}),l.a.createElement(V,{label:"Febrero",value:"febrero"}),l.a.createElement(V,{label:"Marzo",value:"marzo"}),l.a.createElement(V,{label:"Abril",value:"abril"}),l.a.createElement(V,{label:"Mayo",value:"mayo"}),l.a.createElement(V,{label:"Junio",value:"junio"}),l.a.createElement(V,{label:"Julio",value:"julio"}),l.a.createElement(V,{label:"Agosto",value:"agosto"}),l.a.createElement(V,{label:"Septiembre",value:"septiembre"}),l.a.createElement(V,{label:"Octubre",value:"octubre"}),l.a.createElement(V,{label:"Noviembre",value:"noviembre"}),l.a.createElement(V,{label:"Diciembre",value:"diciembre"}))))}}]),t}(l.a.Component),U=function(e){for(var a=e.datosRowsSales,t=e.datosRowsSellers,n=e.montosTotalesShow,r=e.datosShow,o=e.handlePaginate,c=e.handlePaginateNext,m=e.handlePaginatePrev,s=e.handleChangeRows,i=e.page,u=e.tablasChange,d=u?a.totalPages:t.totalPages,p=u?a.page:t.page,E=l.a.useState([]),f=Object(N.a)(E,2),b=f[0],v=f[1],g=[],h=1;h<=d;h++)g.push(h);var C=l.a.useState(20),x=Object(N.a)(C,2),w=x[0],j=x[1];return l.a.useEffect((function(){s(w)}),[w]),l.a.useEffect((function(){var e=[].concat(g);if(p>=1&&p<=3&&d>=2)e=[1,2,3,4,"...",g.length];else if(4===p){var a=g.slice(0,5);e=[].concat(Object(y.a)(a),["...",g.length])}else if(p>4&&p<g.length-2){var t=g.slice(p-2,p),n=g.slice(p,p+1);e=[1,"..."].concat(Object(y.a)(t),[n,"...",g.length])}else if(p>g.length-3){var l=g.slice(g.length-4);e=Object(y.a)(l)}v(e);var r=[].concat(g);if(p>=1&&p<=3&&d>2)r=[1,2,3,4,"...",g.length];else if(4===p){var o=g.slice(0,5);r=[].concat(Object(y.a)(o),["...",g.length])}else if(p>4&&p<g.length-2){var c=g.slice(p-2,p),m=g.slice(p,p+1);r=[1,"..."].concat(Object(y.a)(c),[m,"...",g.length])}else if(p>g.length-3){var s=g.slice(g.length-4);r=Object(y.a)(s)}v(r)}),[p,d]),l.a.createElement("div",{className:"row mx-0 justify-content-around"},l.a.createElement("select",{onChange:function(e){return j(parseInt(e.target.value))},className:"custom-select-sm order-2"},l.a.createElement("option",{value:"20"},"20"),l.a.createElement("option",{value:"50"},"50"),l.a.createElement("option",{value:"100"},"100"),l.a.createElement("option",{value:u?a.totalDocs:r.totalDocs},"Todo")),l.a.createElement("nav",{"aria-label":"...",className:"order-1"},l.a.createElement("ul",{className:"pagination pagination-sm"},l.a.createElement("li",null,l.a.createElement("span",{onClick:function(){return 1==i?"":o(1)},role:"button",tabIndex:"0",className:"page-link"},"\u2264\u2264")),l.a.createElement("li",{className:"page-item"},l.a.createElement("span",{onClick:function(){return u?a.hasPrevPage&&m(a.prevPage):t.hasPrevPage&&m(t.prevPage)},role:"button",tabIndex:"0",className:"page-link"},"\u2264")),b.map((function(e){return l.a.createElement("li",{className:"page-item ".concat(p==e&&"active"),key:e},l.a.createElement("span",{onClick:function(){return o(e)},role:"button",tabIndex:"0",className:"page-link"},e))})),l.a.createElement("li",{className:"page-item"},l.a.createElement("span",{onClick:function(){return u?a.hasNextPage&&c(a.nextPage):t.hasNextPage&&c(t.nextPage)},role:"button",tabIndex:"0",className:"page-link"},"\u2265")),l.a.createElement("li",null,l.a.createElement("span",{onClick:function(){return o(u?a.totalPages:t.totalPages)},role:"button",tabIndex:"0",className:"page-link"},"\u2265\u2265")))),l.a.createElement("div",{className:"order-3 order-md-3"},l.a.createElement(R,{datosShow:r,montosTotalesShow:n,tablasChange:u})))},M=l.a.lazy((function(){return t.e(3).then(t.bind(null,317))}));function q(){var e=l.a.useState(!0),a=Object(N.a)(e,2),t=a[0],r=a[1],o=l.a.useState([]),c=Object(N.a)(o,2),m=c[0],u=c[1],d=l.a.useState([]),p=Object(N.a)(d,2),E=p[0],b=p[1],g=l.a.useState([]),h=Object(N.a)(g,2),C=h[0],k=h[1],F=l.a.useState([]),D=Object(N.a)(F,2),A=D[0],I=D[1],P=l.a.useState([]),L=Object(N.a)(P,2),T=L[0],V=L[1],R=l.a.useState([]),q=Object(N.a)(R,2),K=q[0],B=q[1],z=l.a.useState({}),H=Object(N.a)(z,2),_=H[0],G=H[1],J=l.a.useState(20),Z=Object(N.a)(J,2),W=Z[0],Q=Z[1],X=l.a.useState(1),Y=Object(N.a)(X,2),$=Y[0],ee=Y[1],ae=l.a.useState([]),te=Object(N.a)(ae,2),ne=te[0],le=te[1],re=l.a.useState([]),oe=Object(N.a)(re,2),ce=oe[0],me=oe[1],se=l.a.useState({enable:"SI"}),ie=Object(N.a)(se,2),ue=ie[0],de=ie[1],pe=l.a.useState({enable:"SI"}),Ee=Object(N.a)(pe,2),fe=Ee[0],be=Ee[1],ve=function(){var e=Object(i.a)(s.a.mark((function e(){var a,t,n,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("api/v1/allseller",{params:Object(w.a)({page:$,limit:W},fe)});case 3:return a=e.sent,e.next=6,f.get("api/v1/montosales");case 6:return t=e.sent,e.next=9,f.get("api/v1/allsales",{params:Object(w.a)({page:$,limit:W},ue)});case 9:n=e.sent,k(t.data),I(t.data),u(a.data.docs),b(a.data.docs),me(a.data),V(n.data.docs),B(n.data.docs),le(n.data),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),l=e.t0.response,console.log(l);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(y.a)(K).sort((function(e,a){return e.nameClient>a.nameClient?1:e.nameClient<a.nameClient?-1:0}));e[0]===T[0]&&(e=Object(y.a)(K).sort((function(e,a){return a.nameClient>e.nameClient?1:a.nameClient<e.nameClient?-1:0}))),V(e)};l.a.useEffect((function(){ve()}),[W,$,ue.enable,fe.enable]);var ge,he=function(e){var a=e.target.value.toUpperCase();de(Object(w.a)(Object(w.a)({},ue),{},Object(v.a)({},e.target.name,a)))},Ce=function(e){var a=e.target.value.toUpperCase();be(Object(w.a)(Object(w.a)({},fe),{},Object(v.a)({},e.target.name,a)))},xe=function(e){""===ue[e.target.name]&&e.target.value.length<1&&delete ue[e.target.name],""===fe[e.target.name]&&e.target.value.length<1&&delete fe[e.target.name],13===e.keyCode&&(e.preventDefault(),ve())},ye=function(){var e=Object(i.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,f.put("api/v1/salesupdate/".concat(a._id),{enable:"SI"===a.enable?"NO":"SI"});case 4:e.next=8;break;case 6:return e.next=8,f.put("api/v1/sellerupdate/".concat(a._id),{enable:"SI"===a.enable?"NO":"SI"});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n=e.t0.response,console.log(n);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}(),we=[],je=[],Oe=(new Date).toLocaleString("default",{month:"long"}),Se=(new Date).toLocaleString("default",{year:"numeric"}),ke=Object(x.a)(C);try{for(ke.s();!(ge=ke.n()).done;){var Fe=ge.value,De=Fe.annualAmountApproved,Ae=Fe.enero,Ie=Fe.febrero,Pe=Fe.marzo,Le=Fe.abril,Te=Fe.mayo,Ve=Fe.junio,Re=Fe.julio,Ue=Fe.agosto,Me=Fe.septiembre,qe=Fe.octubre,Ke=Fe.noviembre,Be=Fe.diciembre;Se==Fe.year&&we.push(De),"enero"==Oe&&Fe.year==Se&&je.push(Ae),"febrero"==Oe&&Fe.year==Se&&je.push(Ie),"marzo"==Oe&&Fe.year==Se&&je.push(Pe),"abril"==Oe&&Fe.year==Se&&je.push(Le),"mayo"==Oe&&Fe.year==Se&&je.push(Te),"junio"==Oe&&Fe.year==Se&&je.push(Ve),"julio"==Oe&&Fe.year==Se&&je.push(Re),"agosto"==Oe&&Fe.year==Se&&je.push(Ue),"septiembre"==Oe&&Fe.year==Se&&je.push(Me),"octubre"==Oe&&Fe.year==Se&&je.push(qe),"noviembre"==Oe&&Fe.year==Se&&je.push(Ke),"diciembre"==Oe&&Fe.year==Se&&je.push(Be)}}catch(ze){ke.e(ze)}finally{ke.f()}return console.log(),l.a.createElement("div",{className:"my-5 container"},l.a.createElement("div",{className:"my-3 row justify-content-between px-3 form-group"},l.a.createElement("h2",null,"Panel Administrador"),l.a.createElement("select",{className:"custom-select col-12 col-md-4",as:"select",onChange:function(e){return t&&"false"===e.target.value?r(!t):r(!0)}},l.a.createElement("option",{value:!0},"Ventas"),l.a.createElement("option",{value:!1},"Vendedores"))),l.a.createElement("div",{className:"row justify-content-between px-3 my-3"},l.a.createElement("button",{"data-toggle":"modal","data-target":"#admin-sale",className:"btn btn-secondary  mb-3 mt-2 mt-md-0 col-12 col-md-2"},"Nueva Venta"),l.a.createElement(S,{tablasChange:t})),l.a.createElement("div",{className:"border border-dark tableWrap"},l.a.createElement(O,{getDatos:ve,datos:m}),l.a.createElement(j,{datos:_,onChangeHandler:function(e){var a=e.target.value.toUpperCase();G(Object(w.a)(Object(w.a)({},_),{},Object(v.a)({},e.target.name,a)))},tablasChange:t,getDatos:ve}),l.a.createElement("table",{className:"table table-hover table-bordered"},l.a.createElement("thead",{className:"text-center thead-dark"},l.a.createElement("tr",null,t?l.a.createElement(l.a.Fragment,null,l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0",onClick:function(){var e=Object(y.a)(K).sort((function(e,a){return e.date>a.date?1:e.date<a.date?-1:0}));e[0]===T[0]&&(e=Object(y.a)(K).sort((function(e,a){return a.date>e.date?1:a.date<e.date?-1:0}))),e[0]===T[0]&&(e=Object(y.a)(K).sort((function(e,a){return a.date>e.date?1:a.date<e.date?-1:0}))),V(e)}},"D\xeda"),l.a.createElement("input",{className:"form-control",onChange:he,onKeyUp:xe,name:"date",placeholder:"D\xeda..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1",colSpan:"3"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0",onClick:Ne},"Nombre Cliente"),l.a.createElement("input",{className:"form-control",onChange:he,onKeyUp:xe,name:"nameClient",placeholder:"Nombre..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0",onClick:function(){var e=Object(y.a)(K).sort((function(e,a){return a.dniClient-e.dniClient}));e[0]===T[0]&&(e=Object(y.a)(K).sort((function(e,a){return e.dniClient-a.dniClient}))),V(e)}},"DNI"),l.a.createElement("input",{className:"form-control",onChange:he,onKeyUp:xe,name:"dniClient",placeholder:"DNI..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0"},"Tel\xe9fono"),l.a.createElement("input",{className:"form-control",onChange:he,onKeyUp:xe,name:"celphoneClient",placeholder:"Tel\xe9fono..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1",colSpan:"3"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0",onClick:function(){var e=Object(y.a)(K).sort((function(e,a){return e.sellerName>a.sellerName?1:e.sellerName<a.sellerName?-1:0}));e[0]===T[0]&&(e=Object(y.a)(K).sort((function(e,a){return a.sellerName>e.sellerName?1:a.sellerName<e.sellerName?-1:0}))),V(e)}},"Vendedor"),l.a.createElement("input",{className:"form-control",onChange:he,onKeyUp:xe,name:"fullname",placeholder:"Vendedor..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0",onClick:Ne},"Tipo Venta"),l.a.createElement("input",{className:"form-control",onChange:he,onKeyUp:xe,name:"creditLine",placeholder:"Tipo Venta..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0",onClick:function(){var e=Object(y.a)(K).sort((function(e,a){return a.amountApproved-e.amountApproved}));e[0]===T[0]&&(e=Object(y.a)(K).sort((function(e,a){return e.amountApproved-a.amountApproved}))),V(e)}},"Venta"),l.a.createElement("input",{className:"form-control",onChange:he,name:"amountApproved",onKeyUp:xe,placeholder:"Venta..."}))),l.a.createElement("th",{className:"py-0 position-sticky px-1",onClick:Ne},l.a.createElement("p",{className:"text-center mb-2"},"Monto Cuotas")),l.a.createElement("th",{className:"py-0 px-0 position-sticky"},l.a.createElement("p",{className:"text-center"},"Cuotas")),l.a.createElement("th",{className:"py-0 position-sticky"},l.a.createElement("select",{className:"custom-select-sm mb-3 rounded",name:"enable",onChange:he,as:"select"},l.a.createElement("option",{selected:!0,value:"SI"},"Habilitado"),l.a.createElement("option",{value:"NO"},"Deshabilitado"))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1"},l.a.createElement("p",{className:"text-center"},"Observaci\xf3n")),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1"},l.a.createElement("p",{className:"text-center"},"Acci\xf3n"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0",onClick:function(){var e=Object(y.a)(m).sort((function(e,a){return e.fullname>a.fullname?1:e.fullname<a.fullname?-1:0}));e[0]===E[0]&&(e=Object(y.a)(m).sort((function(e,a){return a.fullname>e.fullname?1:a.fullname<e.fullname?-1:0}))),b(e)}},"Vendedor"),l.a.createElement("input",{className:"form-control",onChange:Ce,onKeyUp:xe,name:"fullname",placeholder:"Nombre..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1",colSpan:"3"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0",onClick:function(){var e=Object(y.a)(m).sort((function(e,a){return a.dni-e.dni}));e[0]===E[0]&&(e=Object(y.a)(m).sort((function(e,a){return e.dni-a.dni}))),b(e)}},"DNI"),l.a.createElement("input",{className:"form-control",onChange:Ce,onKeyUp:xe,name:"dni",placeholder:"DNI..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap px-1"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0",onClick:function(){var e=Object(y.a)(m).sort((function(e,a){return e.email>a.email?1:e.email<a.email?-1:0}));e[0]===E[0]&&(e=Object(y.a)(m).sort((function(e,a){return a.email>e.email?1:a.email<e.email?-1:0}))),b(e)}},"Email"),l.a.createElement("input",{className:"form-control",onChange:Ce,onKeyUp:xe,name:"email",placeholder:"Email..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap text-center"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0"},"N\xb0 Celular"),l.a.createElement("input",{className:"form-control",onChange:Ce,onKeyUp:xe,name:"celphone",placeholder:"N\xb0 Celular..."}))),l.a.createElement("th",{className:"py-0 position-sticky text-nowrap text-center"},l.a.createElement("div",{className:"row justify-content-center mx-0 input-group-sm pb-2"},l.a.createElement("p",{className:"mb-0"},"Domicilio"),l.a.createElement("input",{className:"form-control",onChange:Ce,onKeyUp:xe,name:"address",placeholder:"Domicilio..."}))),l.a.createElement("th",{className:"py-0 position-sticky"},l.a.createElement("select",{className:"custom-select-sm mb-3 rounded",name:"enable",onChange:Ce,as:"select"},l.a.createElement("option",{selected:!0,value:"SI"},"Habilitado"),l.a.createElement("option",{value:"NO"},"Deshabilitado"))),l.a.createElement("th",{className:"position-sticky text-nowrap text-center px-1"},"Accion")))),l.a.createElement("tbody",null,l.a.createElement(n.Suspense,{fallback:l.a.createElement("div",{className:"spinner-border text-primary text-center",role:"status"},l.a.createElement("span",{className:"sr-only text-center"},"Cargando..."))},l.a.createElement(M,{tablasChange:t,datosShow:T,montosTotalesShow:A,datosSellerShow:E,onClickHandler:function(e){G(e)},deleteSaleHandler:ye,getDatos:ve}))))),l.a.createElement(U,{datosRowsSales:ne,datosRowsSellers:ce,datosShow:T,montosTotalesShow:A,tablasChange:t,handlePaginate:function(e){ee(e)},handlePaginateNext:function(e){t?ne.hasNextPage&&ee(e):ce.hasNextPage&&ee(e)},handlePaginatePrev:function(e){t?ne.hasPrevPage&&ee(e):ce.hasPrevPage&&ee(e)},page:$,handleChangeRows:function(e){Q(e)}}),l.a.createElement("div",{className:"mt-4"},l.a.createElement("p",{className:"mb-0"},"Total Ventas ",Oe,": ",je.length),l.a.createElement("p",{className:"mb-0"},"Monto ventas ",Oe,": ",l.a.createElement("strong",null,new Intl.NumberFormat("es-AR",{currency:"ARS",style:"currency"}).format(je.reduce((function(e,a){return e+a}),0)))),l.a.createElement("p",{className:"mb-0"},"Promedio ventas ",Oe,": ",l.a.createElement("strong",null,new Intl.NumberFormat("es-AR",{currency:"ARS",style:"currency"}).format(je.reduce((function(e,a){return e+a}),0)/je.length))),l.a.createElement("p",{className:"mb-0"},"Suma Total Anual: ",l.a.createElement("strong",null,new Intl.NumberFormat("es-AR",{currency:"ARS",style:"currency"}).format(we.reduce((function(e,a){return e+a}),0))))))}var K=function(e){var a=e.getDatos,t=Object(n.useState)(null),r=Object(N.a)(t,2),o=r[0],c=r[1],m=Object(n.useState)(""),u=Object(N.a)(m,2),d=u[0],p=u[1],E=Object(n.useRef)(),b=Object(n.useRef)(),g=function(e){var a=e.target.value.toUpperCase();p(Object(w.a)(Object(w.a)({},d),{},Object(v.a)({},e.target.name,a)))};console.log(d);var C=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"application/pdf"===o.type){e.next=4;break}return h.a.fire({icon:"error",title:"Solo se admite archivos formato PDF",showConfirmButton:!1,timer:1500}),e.abrupt("return");case 4:return e.prev=4,e.next=7,f.post("api/v1/regsales",d);case 7:return n=e.sent,console.log("newsales ->",n.data.id),(l=new FormData).append("myFile",o),e.next=13,f.post("api/v1/regsales/".concat(n.data.id,"/sendpdf"),l,{headers:{"content-type":"multipart/form-data"}});case 13:h.a.fire({icon:"success",title:"Tu venta se cargo correctamente",showConfirmButton:!1,timer:1500}),b.current.reset(),E.current.click(),a(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(a){return e.apply(this,arguments)}}(),x=function(e){return e.charCode<=47||e.charCode>=58?(h.a.fire({icon:"error",title:"Solo puede ingresar n\xfameros"}),!1):void 0};return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal","data-whatever":"@mdo"},"Nueva Venta"),l.a.createElement("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:""},l.a.createElement("h5",{className:"modal-title text-center mt-3",id:"exampleModalLabel"},"Nueva Venta"),l.a.createElement("hr",null)),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{onSubmit:C,ref:b},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"inputStateCredito"},"Linea de Cr\xe9dito *"),l.a.createElement("select",{id:"inputStateCredito",className:"form-control",onChange:g,name:"creditLine"},l.a.createElement("option",null,"Elegir..."),l.a.createElement("option",{value:"sencillo"},"Sencillo"),l.a.createElement("option",{value:"rapicredito"},"Rapicredito"))),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"inputStateOperacion"},"Indique tipo de operaci\xf3n *"),l.a.createElement("select",{id:"inputStateOperacion",className:"form-control",onChange:g,name:"typeOperation"},l.a.createElement("option",null,"Elegir..."),l.a.createElement("option",{value:"credito"},"Cr\xe9dito"),l.a.createElement("option",{value:"electro"},"Electro")))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6 "},l.a.createElement("label",{htmlFor:"inputStateNew"},"Cliente Nuevo *"),l.a.createElement("select",{id:"inputStateNew",className:"form-control",onChange:g,name:"newClient"},l.a.createElement("option",null,"Elegir..."),l.a.createElement("option",{value:"SI"},"Si"),l.a.createElement("option",{value:"NO"},"No"))),l.a.createElement("div",{className:"form-group col-sm-6 "},l.a.createElement("label",{htmlFor:"inputStateTypeClient"},"Tipo de Cliente *"),l.a.createElement("select",{id:"inputStateTypeClient",className:"form-control",onChange:g,name:"TypeClient"},l.a.createElement("option",null,"Elegir..."),l.a.createElement("option",{value:"A"},"A"),l.a.createElement("option",{value:"B"},"B"),l.a.createElement("option",{value:"C"},"C")))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"nombreCliente"},"Nombre del Cliente *"),l.a.createElement("input",{className:"form-control",id:"nombreCliente",name:"nameClient",type:"text",onChange:g,required:!0})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"dniCLiente"},"DNI del Cliente *"),l.a.createElement("input",{className:"form-control",id:"dniCLiente",name:"dniClient",maxLength:"8",type:"text",onKeyPress:x,onChange:g,required:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"celularCLiente"},"Celular del Cliente *"),l.a.createElement("input",{className:"form-control",id:"celularCLiente",name:"celphoneClient",type:"text",onKeyPress:x,onChange:g,required:!0})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"montoAprobado"},"Monto Aprobado *"),l.a.createElement("input",{className:"form-control",id:"montoAprobado",name:"amountApproved",type:"number",onKeyPress:x,onChange:g,required:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"inputStateCantidadCuotas"},"Cantidad de Cuotas *"),l.a.createElement("select",{id:"inputStateCantidadCuotas",className:"form-control",onChange:g,name:"quotaAmount"},l.a.createElement("option",{value:0},"Elegir..."),l.a.createElement("option",{value:1},"0"),l.a.createElement("option",{value:3},"3"),l.a.createElement("option",{value:6},"6"),l.a.createElement("option",{value:12},"12"),l.a.createElement("option",{value:15},"15"),l.a.createElement("option",{value:18},"18"),l.a.createElement("option",{value:24},"24"),l.a.createElement("option",{value:30},"30"))),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",{htmlFor:"montoPorCuota"},"Monto por cuota *"),l.a.createElement("input",{className:"form-control",id:"montoPorCuota",name:"feeAmount",type:"text",onKeyPress:x,onChange:g,required:!0}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Detalles de la operaci\xf3n"),l.a.createElement("textarea",{className:"form-control",id:"message-text",name:"saleDetail",onChange:g})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleFormControlFile1"},"Seleccionar Archivo PDF"),l.a.createElement("input",{type:"file",className:"form-control-file",name:"myFile",onChange:function(e){c(e.target.files[0]),1===e.target.files.length?function(e){if(e.target.files[0].size<=2e7){var a=e.target.files[0];(new FileReader).readAsDataURL(a)}else e.target.value="",alert("subir algo min 2 mb")}(e):(e.target.value="",alert("cargar pdf"))}})),l.a.createElement("p",null,"(*) Campo Obligatorio"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-secondary","data-dismiss":"modal",type:"button",ref:E},"Cerrar"),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Enviar"))))))))},B=function(){var e=Object(n.useState)([]),a=Object(N.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)([]),c=Object(N.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)(""),p=Object(N.a)(d,2),E=p[0],b=p[1],v=new Date,g=function(){var e=Object(i.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("api/v1/allsales");case 3:a=e.sent,r(a.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t=e.t0.response,console.log(t);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b(localStorage.getItem("username")),g()}),[]),Object(n.useEffect)((function(){!function(){var e=v.toLocaleString("default",{month:"long"});console.log(e);var a=t.filter((function(a){return a.exactMonth.includes(e)}));u(a),console.log(a)}()}),[t]);var h=m.map((function(e){return l.a.createElement("div",{key:e._id,className:"px-0 col-12 col-md-3 mx-1 my-4 card DivContainer justify-content-around saleCard"},l.a.createElement("div",{className:"card-header d-flex w-100 justify-content-between flex-wrap mb-4"},l.a.createElement("h5",{className:"mb-0"},e.nameClient),l.a.createElement("small",{className:"fecha-alta"},e.date)),l.a.createElement("div",{className:"card-body contacto py-2"},l.a.createElement("p",{className:"card-text"},"DNI: ",e.dniClient),l.a.createElement("p",{className:"card-text"},"Numero Celular: ",e.celphoneClient),l.a.createElement("p",{className:"card-text"},"Tipo de Operaci\xf3n: ",e.typeOperation),l.a.createElement("p",{className:"card-text"},"Linea Cr\xe9dito: ",e.creditLine),l.a.createElement("p",{className:"card-text"},"Monto aprobado: ",e.amountApproved),l.a.createElement("p",{className:"card-text"},"Cantidad de cuotas: ",e.feeAmount),l.a.createElement("p",{className:"card-text"},"Monto de la cuota: ",e.quotaAmount),l.a.createElement("p",{className:"card-text"},"Detalles de la Operaci\xf3n: ",e.saleDetail)))})).reverse();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center"},l.a.createElement("a",{href:"#"},"Sistema de Gesti\xf3n de Ventas"),l.a.createElement("p",null,"Del Valle Cr\xe9ditos")),l.a.createElement("div",{className:"container-fluid p-3"},l.a.createElement("h1",{className:"tituloLogin text-center display-4"},"Protegido: Sistema de Ventas"),l.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},l.a.createElement("a",{className:"navbar-brand",href:"#"},E),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(K,{getDatos:g}))),l.a.createElement("form",{className:"form-inline my-2 my-sm-0"},l.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"DNI Cliente","aria-label":"Search",maxLength:"8",minLength:"7",onChange:function(e){var a=t.filter((function(a){return a.dniClient.toString().includes(e.target.value)}));u(a)}}))))),l.a.createElement("div",{className:"container"},l.a.createElement("h2",{className:"my-1 text-center display-4"},"Ventas del corriente mes"),l.a.createElement("div",{className:"row justify-content-around"},h)))};var z=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{component:b}),l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/panel",exact:!0,component:q}),l.a.createElement(c.a,{exact:!0,path:"/seller",component:B}),l.a.createElement(c.a,{path:"/",exact:!0,component:C})))},H=t(34);f.interceptors.request.use((function(e){return u()&&(e.headers.Authorization="Bearer "+localStorage.getItem("token")),e})),f.interceptors.response.use((function(e){return console.log("Interceptor ejecutado"),e}),(function(e){var a=e.response;return console.log("Interceptor del error"),401===a.status&&a.data.error&&a.data.error.includes("expired")&&(p(),window.location="/",h.a.fire({title:"Uuups",text:"Tu sesi\xf3n expir\xf3, por favor vuelve a ingresar"})),Promise.reject(e)}));var _=document.getElementById("root");_.hasChildNodes()?o.a.hydrate(l.a.createElement(H.a,{basename:"/dvcs"},l.a.createElement(z,null)),_):o.a.render(l.a.createElement(H.a,{basename:"/dvcs"},l.a.createElement(z,null)),_)},93:function(e,a,t){}},[[165,1,2]]]);
//# sourceMappingURL=main.ec1352ca.chunk.js.map